<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>征服高级CSS选择器 | 叶行骏</title>
  <meta name="author" content="Xj Ye">
  
  <meta name="description" content="原文：征服高级CSS选择器译自：Taming Advanced CSS Selectors

CSS是对网页设计师可用的最强大的工具之一。使用它我们可以在几分钟内改变一个网站的界面，而不用改变页面的标签。但是尽管事实上，我们每个人也都意识到了它是有用的，CSS 选择器远未发挥它们的潜力，有的时候我们">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="征服高级CSS选择器"/>
  <meta property="og:site_name" content="叶行骏"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="叶行骏" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">叶行骏</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2009-08-31T16:00:00.000Z"><a href="/2009/09/01/study-adcenced-css-selector/">2009-09-01</a></time>
      
      
  
    <h1 class="title">征服高级CSS选择器</h1>
  

    </header>
    <div class="entry">
      
        <p><div>原文：<a href="http://www.qianduan.net/taming-advanced-css-selectors.html" target="_blank" closure_hashcode_z9wadg="1811">征服高级CSS选择器</a><br><br>译自：<a href="http://www.smashingmagazine.com/2009/08/17/taming-advanced-css-selectors/" target="_blank" closure_hashcode_z9wadg="1812">Taming Advanced CSS Selectors</a><br></div></p>
<p><hr><br></p>
<p>CSS是对网页设计师可用的最强大的工具之一。使用它我们可以在几分钟内改变一个网站的界面，而不用改变页面的标签。但是尽管事实上，我们每个人也都意识到了它是有用的，CSS 选择器远未发挥它们的潜力，有的时候我们还趋向于使用过多的和无用的class、id、div、span等把我们的HTML搞的很凌乱。</p><br><p>&nbsp;</p><br><p>避免让这些&ldquo;瘟疫&rdquo;在你的标签中传播并保持其简洁和语义化的最佳方式，就是使用更复杂的CSS选择器，它们可以定位于指定的元素而不用使用额外的class或id，而且通过这种方式也可以<strong>让我们的代码和样式更加灵活</strong>。</p><br><h3>CSS的优先级</h3><br><p>在深入研究高级CSS选择器领域之前，理解CSS优先级是如何工作的是很重要的，这样我们就知道如何适当的使用我们的选择器并避免浪费大量的时间来调试一些只要我们注意到优先级的话就很容易被搞定的问题</p><br><p>当我们写CSS的时候我们必须注意有些选择器在级联(cascade)上会<strong>高于</strong>其它选择器，我们写在最后面的选择器将不一定会覆盖前面我们写在同一个元素的样式。</p><br><p>那么你如何<strong>计算指定选择器的优先级</strong>？如果你考虑到将优先级表示为用逗号隔开的四个数字就会相当简单，比如：1, 1, 1, 1 或0, 2, 0, 1</p><br><ol><br>    <li>第一个数字(a)通常就是0，除非在标签上使用style属性；</li><br>    <li>第二个数字(b)是该选择器上的id的数量的总和；</li><br>    <li>第三个数字(c)是用在该选择器上的其它属性选择器和伪类的总和。这里包括class (.example) 和属性选择器(比如 li[id=red])；</li><br>    <li>第四个数字(d)计算元素(就像table、p、div等等)和伪元素(就像:first-line等)；</li><br>    <li>通用选择器(<em>)是0优先级；</em></li><br>    <li>如果两个选择器有同样的优先级，在样式表中后面的那个起作用。</li><br></ol><br><p>让我们看几个例子，这样或许比较容易理解些：</p><br><ul><br>    <li>#sidebar h2 &mdash; 0, 1, 0, 1</li><br>    <li>h2.title &mdash; 0, 0, 1, 1</li><br>    <li>h2 + p &mdash; 0, 0, 0, 2</li><br>    <li>#sidebar p:first-line &mdash; 0, 1, 0, 2</li><br></ul><br><p>在下面的例子中，第一个将会起作用，因为它比第二个优先级高：</p><br><ul><br>    <li>#sidebar p#first { color: red; } &mdash; 0, 2, 0, 1</li><br>    <li>#sidebar p:first-line { color: blue; } &mdash; 0, 1, 0, 2</li><br></ul><br><p>至少基本理解优先级是如何工作的是很重要的，但是一些工具比如<strong>Firebug</strong>，在我们审查指定元素的时候，按照选择器的优先级列出所有的css选择器对让我们知道在指定元素上哪个选择器是有效的是很有用的。</p><br><p><img height="256" src="http://www.qianduan.net/wp-content/uploads/2009/08/firebug.jpg" width="535" alt=""><br><br><em>让你非常容易的看到那个选择器作用于一个元素上了。</em></p><br><p>有用的文章:</p><br><ul><br>    <li><a href="http://www.smashingmagazine.com/2007/07/27/css-specificity-things-you-should-know/" target="_blank" closure_hashcode_z9wadg="1813">CSS Specificity: Things You Should Know</a></li><br>    <li><a href="http://meyerweb.com/eric/css/link-specificity.html" target="_blank" closure_hashcode_z9wadg="1814">Link Specificity&macr;MeyerWeb</a></li><br>    <li><a href="http://www.stuffandnonsense.co.uk/archives/css_specificity_wars.html" target="_blank" closure_hashcode_z9wadg="1815">CSS: Specificity Wars</a></li><br>    <li><a href="http://www.w3.org/TR/CSS2/cascade.html" target="_blank" closure_hashcode_z9wadg="1816">Assigning property values, Cascading, and Inheritance&mdash;W3C</a></li><br></ul><br><h3>1. 属性选择器</h3><br><p>属性选择器(Attribute selector)让你可以基于属性来定位一个元素。你可以只指定该元素的某个属性，这样所有使用该属性&mdash;&mdash;而不管它的值&mdash;&mdash;的这个元素都将被定位，也可以更加明确并<strong>定位在这些属性上使用特定值的元素</strong> &mdash;&mdash; 这就是属性选择器展示它们的威力的地方。</p><br><p>有6个不同类型的属性选择器：</p><br><ul><br>    <li>[att=value]<br><br>    该属性有指定的确切的值。</li><br>    <li>[att~=value]<br><br>    该属性的值必须是一系列用空格隔开的多个值，(比如，class=&rdquo;title featured home&rdquo;)，而且这些值中的一个必须是指定的值&rdquo;value&rdquo;。</li><br>    <li>[att|=value]<br><br>    属性的值就是&ldquo;value&rdquo;或者以&ldquo;value&rdquo;开始并立即跟上一个&ldquo;-&rdquo;字符，也就是&ldquo;value-&rdquo;。(比如lang=&rdquo;zh-cn&rdquo;)</li><br>    <li>[att^=value]<br><br>    该属性的值以指定值开始。</li><br>    <li>[att$=value]<br><br>    该属性的值包含指定的值(而无论其位置)。</li><br>    <li>[att=value]<br><br>    该属性的值以指定的值结束</li><br></ul><br><p>比如，如果你想要<strong>改变你的博客上的日志部分元素的背景颜色</strong>，你可以使用一个指定每一个class属性值以&ldquo;post-&rdquo;开始的div的属性选择器：</p><br><div><br><div><br><pre style="font-family: monospace"><br>div<span style="color: #00aa00">[</span>class|<span style="color: #00aa00">=</span><span style="color: #ff0000">&quot;post&quot;</span><span style="color: #00aa00">]</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background-color</span><span style="color: #00aa00">:</span> <span style="color: #cc00cc">#333</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>该语句将匹配所有class属性包含&rdquo;post&rdquo;并带&rdquo;-&rdquo;字符的div元素。(注：此处英文原文有些上下文不对应，我已经更正&mdash;&mdash;译者，神飞)</p><br><p>属性选择器的另一个很有用的用处是<strong>定位不同类型的input元素</strong>。比如，如果你想让你的文本输入框使用一个特定的宽度，你可以使用下面的属性选择器：</p><br><div><br><div><br><pre style="font-family: monospace"><br>input<span style="color: #00aa00">[</span>type<span style="color: #00aa00">=</span><span style="color: #ff0000">&quot;text&quot;</span><span style="color: #00aa00">]</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">width</span><span style="color: #00aa00">:</span> <span style="color: #933">200px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>这将匹配所有type属性值等于&ldquo;text&rdquo;的input元素。</p><br><p>现在我们可能像为网站上<strong>不同的文件类型的链接添加不同的图标</strong>，这样你的网站的访客就会知道他们将获得一个图片、或者PDF文件、或者是一个word文档等。这就可以使用属性选择器来实现：</p><br><div><br><div><br><pre style="font-family: monospace"><br>a<span style="color: #00aa00">[</span>href<span style="color: #00aa00"><em>=</em></span><span style="color: #ff0000">&quot;.jpg&quot;</span><span style="color: #00aa00">]</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background</span><span style="color: #00aa00">:</span> <span style="color: #993333">url</span><span style="color: #00aa00">(</span><span style="color: #ff0000; font-style: italic">jpeg.gif</span><span style="color: #00aa00">)</span> <span style="color: #993333">no-repeat</span> <span style="font-weight: bold; color: #000000">left</span> <span style="color: #933"><span style="color: #cc66cc">50</span>%</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">padding</span><span style="color: #00aa00">:</span> <span style="color: #933">2px</span> <span style="color: #cc66cc">0</span> <span style="color: #933">2px</span> <span style="color: #933">20px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>&nbsp;<br>a<span style="color: #00aa00">[</span>href<span style="color: #00aa00">=</span><span style="color: #ff0000">&quot;.pdf&quot;</span><span style="color: #00aa00">]</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background</span><span style="color: #00aa00">:</span> <span style="color: #993333">url</span><span style="color: #00aa00">(</span><span style="color: #ff0000; font-style: italic">pdf.gif</span><span style="color: #00aa00">)</span> <span style="color: #993333">no-repeat</span> <span style="font-weight: bold; color: #000000">left</span> <span style="color: #933"><span style="color: #cc66cc">50</span>%</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">padding</span><span style="color: #00aa00">:</span> <span style="color: #933">2px</span> <span style="color: #cc66cc">0</span> <span style="color: #933">2px</span> <span style="color: #933">20px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>&nbsp;<br>a<span style="color: #00aa00">[</span>href<span style="color: #00aa00"><em>=</em></span><span style="color: #ff0000">&quot;.doc&quot;</span><span style="color: #00aa00">]</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background</span><span style="color: #00aa00">:</span> <span style="color: #993333">url</span><span style="color: #00aa00">(</span><span style="color: #ff0000; font-style: italic">word.gif</span><span style="color: #00aa00">)</span> <span style="color: #993333">no-repeat</span> <span style="font-weight: bold; color: #000000">left</span> <span style="color: #933"><span style="color: #cc66cc">50</span>%</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">padding</span><span style="color: #00aa00">:</span> <span style="color: #933">2px</span> <span style="color: #cc66cc">0</span> <span style="color: #933">2px</span> <span style="color: #933">20px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>在此例中，我们使用了一个定位所有的链接(a)的href属性分别以.jpg,.pdf或.doc结束()的属性选择器。详细可查看前端观察之前的一篇文章《<a href="http://www.qianduan.net/css-selectors-customization-link-style.html" target="_blank" closure_hashcode_z9wadg="1817">使用CSS选择器创建个性化链接样式</a>》</p><br><h4>浏览器支持</h4><br><p>除了Internet Explorer 6，所有的主流浏览器都支持属性选择器。这意味着，如果你在你的网站上使用了属性选择器，你应该<strong>确保IE6用户将仍能获得一个可用的网站</strong>。比如我们的第三个例子，为链接添加图标可以给你的网站带来另一个级别的可用性，但是如果这些链接不显示任何图标，该网站仍然还是可用的。</p><br><h3>2. 子选择器</h3><br><p>子选择器用符号&ldquo;&gt;&rdquo;表示。它允许你<strong>定位某个元素的第一级子元素</strong>。</p><br><p>比如，如果你想匹配所有的作为你的网站侧栏的div的子元素的h2元素，而不是可能是在div元素内的所有h2元素，也不是div的孙元素(或者更低级别的)，你就可以使用下面的选择器：</p><br><div><br><div><br><pre style="font-family: monospace"><br>div<span style="color: #cc00cc">#sidebar</span> &amp;gt<span style="color: #00aa00">;</span> h2 <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-size</span><span style="color: #00aa00">:</span> <span style="color: #933">20px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>你当然也可以同时使用子元素和后代元素。比如，如果你想定位只有在body元素的子级div元素内的blockquote元素(比如你想匹配主要的div内的blockquotes，而不是其它部分的：</p><br><div><br><div><br><pre style="font-family: monospace"><br>body &amp;gt<span style="color: #00aa00">;</span> div &amp;gt<span style="color: #00aa00">;</span> div blockquote <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">margin-left</span><span style="color: #00aa00">:</span> <span style="color: #933">30px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><h4>浏览器支持</h4><br><p>和属性选择器一样，子选择器不被IE6支持。如果你通过这种方式要实现的效果和网站的可用性或总体设计息息相关，你可以考虑使用一个class，或者使用只针对IE6的样式，但是这将有悖使用子选择器的目的。</p><br><h3>3. 兄弟组合</h3><br><p>有两类兄弟组合：临近兄弟组合和普通兄弟组合</p><br><h4>临近兄弟组合</h4><br><p>该选择器使用加号&ldquo;+&rdquo;来链接前后两个选择器。选择器中的元素有<strong>同一个父亲</strong>，而且<strong>第二个必须紧紧的跟着第一个</strong>。</p><br><p>临近兄弟组合可以灰常有用，比如，在<strong>处理文字的时候</strong>。比如我们想对段落后面的h2标题添加一个顶间距&ldquo;margin-top&rdquo;(当然或许你无需为h1标签后面的h2添加，或者它可能是页面的第一个元素)：</p><br><div><br><div><br><pre style="font-family: monospace"><br>p <span style="color: #00aa00">+</span> h2 <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">margin-top</span><span style="color: #00aa00">:</span> <span style="color: #933">10px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>你甚至可以更加具体，你想定位某个特定的div后面的h2：</p><br><div><br><div><br><pre style="font-family: monospace"><br>div<span style="color: #6666ff">.post</span> p <span style="color: #00aa00">+</span> h2 <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">margin-top</span><span style="color: #00aa00">:</span> <span style="color: #933">10px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>或者你可以搞得更加复杂：页面的第一个段落的第一行字母显示为小写字母。</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #6666ff">.post</span> h1 <span style="color: #00aa00">+</span> p<span style="color: #3333ff">:first-line </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-variant</span><span style="color: #00aa00">:</span> <span style="color: #993333">small-caps</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>因为可能大部分日志/文章的第一个段落都会紧紧的在H1标签的后面。你可以在你的选择器中借助于h1标签。</p><br><h4>普通兄弟组合</h4><br><p>普通兄弟组合和临近兄弟组合的工作原理很像，不同的是<strong>第二个选择其无需紧紧跟随第一个</strong>。</p><br><p>如果你需要定位所有的某个特定的div里面并且跟在h1标签后面的p标签的话(你可能想要这些p标签比拟的日志的标题前面的文字大些)，你就可以使用这个选择器：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #6666ff">.post</span> h1 ~ p <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-size</span><span style="color: #00aa00">:</span> <span style="color: #933">13px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>注：这两个选择器太像了，所有不是很好理解，可以试一试下面的这个例子：</p><br><p><strong>CSS:</strong></p><br><div><br><div><br><pre style="font-family: monospace"><br>p <span style="color: #00aa00">+</span> h2<span style="color: #00aa00">{</span><span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span><span style="color: #993333">red</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>    p ~ h2<span style="color: #00aa00">{</span><span style="font-weight: bold; color: #000000">font-weight</span><span style="color: #00aa00">:</span><span style="color: #cc66cc">700</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p><strong>HTML:</strong></p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #009900">&lt;<span style="font-weight: bold; color: #000000">p</span>&gt;</span>咳咳，内容。<span style="color: #009900">&lt;<span style="color: #66cc66">/</span><span style="font-weight: bold; color: #000000">p</span>&gt;</span><br><span style="color: #009900">&lt;<span style="font-weight: bold; color: #000000">h2</span>&gt;</span>标题1<span style="color: #009900">&lt;<span style="color: #66cc66">/</span><span style="font-weight: bold; color: #000000">h2</span>&gt;</span><br><span style="color: #009900">&lt;<span style="font-weight: bold; color: #000000">h2</span>&gt;</span>标题2<span style="color: #009900">&lt;<span style="color: #66cc66">/</span><span style="font-weight: bold; color: #000000">h2</span>&gt;</span></pre><br></div><br></div><br><p>看看第二个h2的颜色就可以理解了吧？临近兄弟组合只能匹配第一个选择器后面的第一个兄弟选择其，普通兄弟组合则能匹配所有。注：该部分英文原文没有，是神飞翻译时自己添加。</p><br><h4>浏览器支持</h4><br><p>Internet Explorer 6依然不能理解兄弟选择器，但是，另一种情况，如果你的用户中只有一小部分是IE6用户，而且网站的结构不会被破坏或者受到严重影响，这是实现很多很酷的效果而无需在你的HTML代码中添加无用的class或id。</p><br><h3>4. 伪类</h3><br><h4>动态伪类</h4><br><p>之所以被称为动态伪类是因为它们并不存在于HTML中&mdash;&mdash;而是只有<strong>当用户和网站交互的时候</strong>才会呈现。</p><br><p>有两类动态伪类：<strong>链接</strong> 和<strong>用户行为</strong>。链接就是:link 和:visited，而用户行为包括:hover、:active 和:focus。</p><br><p>在本文中提到的css选择器中，这几个应该是<strong>最常用到</strong>的。</p><br><p><strong>:link</strong>伪类用于链接尚未被用户访问的时候，而<strong>:visited</strong> 伪类用于用户访问过的链接，也就是说它们是相反的。</p><br><p><strong>:hover</strong>伪类用于用户移动他们的鼠标在元素上，而尚未触发或点击它的时候。<strong>:active</strong>伪类应用于用户点击元素的情况。最后，<strong>:focus</strong>伪类用于元素成为焦点的时候&mdash;&mdash;最常用于表单元素。</p><br><p>你可以在你的样式表中使用多种用户行为动态伪类，这样你就可以，比如，根据用户的鼠标只是滑过或悬停的时候，为一个输入框定义不同的背景色:</p><br><div><br><div><br><pre style="font-family: monospace"><br>input<span style="color: #3333ff">:focus </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background</span><span style="color: #00aa00">:</span> <span style="color: #cc00cc">#D2D2D2</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">border</span><span style="color: #00aa00">:</span> <span style="color: #933">1px</span> <span style="color: #993333">solid</span> <span style="color: #cc00cc">#5E5E5E</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>input<span style="color: #3333ff">:focus</span><span style="color: #3333ff">:hover </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background</span><span style="color: #00aa00">:</span> <span style="color: #cc00cc">#C7C7C7</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><h5>浏览器兼容性</h5><br><p>动态伪类被所有的现代浏览器支持，甚至IE6，但是请注意，对于IE系列浏览器来说，IE6只允许:hover 伪类应用于链接元素(a标签)而且只有IE8接受:active状态。</p><br><h4>:first-child</h4><br><p>:first-child伪类允许你定位某个元素<strong>第一个子元素</strong>。比如，如果你想给你的无须列表的第一个li添加一个margin-top，你就可以这样写：</p><br><div><br><div><br><pre style="font-family: monospace"><br>ul &amp;gt<span style="color: #00aa00">;</span> li<span style="color: #3333ff">:first-child </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">margin-top</span><span style="color: #00aa00">:</span> <span style="color: #933">10px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>让我们来看一看另一个例子:比如你想让你的博客的侧栏的H2标签都有个顶部边距，以将标题和它们前面的内容区分开来，但是第一个h2不需要，你就可以使用下面的代码：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #cc00cc">#sidebar</span> &amp;gt<span style="color: #00aa00">;</span> h2 <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">margin-top</span><span style="color: #00aa00">:</span> <span style="color: #933">10px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>&nbsp;<br><span style="color: #cc00cc">#sidebar</span> &amp;gt<span style="color: #00aa00">;</span> h2<span style="color: #3333ff">:first-child </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">margin-top</span><span style="color: #00aa00">:</span> <span style="color: #cc66cc">0</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><h5>浏览器兼容性</h5><br><p>IE6 不支持 :first-child 伪类。根据伪类应用到的设计的不同，它或许不会成为关注的主要问题。比如，如果你使用:first-child 选择器来移除标题或段落上的头部或底部的间距，你的布局在IE6中不会坏掉，它只会看起来有些不同。但是如果你使用:first-child选择器从一个，比如浮动元素，移除左边距或右边距，将会让你的设计乱掉。</p><br><h4>语言伪类</h4><br><p>语言伪类<strong>:lang()</strong>，允许你匹配一个基于它的语言的元素。</p><br><p>你如，你想让你的网站的某个特定的链接根据页面的语言有不同的背景颜色：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #00aa00">:</span>lang<span style="color: #00aa00">(</span>en<span style="color: #00aa00">)</span> &amp;gt<span style="color: #00aa00">;</span> a<span style="color: #cc00cc">#flag</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background-image</span><span style="color: #00aa00">:</span> <span style="color: #993333">url</span><span style="color: #00aa00">(</span><span style="color: #ff0000; font-style: italic">english.gif</span><span style="color: #00aa00">)</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>&nbsp;<br><span style="color: #00aa00">:</span>lang<span style="color: #00aa00">(</span>fr<span style="color: #00aa00">)</span> &amp;gt<span style="color: #00aa00">;</span> a<span style="color: #cc00cc">#flag</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background-image</span><span style="color: #00aa00">:</span> <span style="color: #993333">url</span><span style="color: #00aa00">(</span><span style="color: #ff0000; font-style: italic">french.gif</span><span style="color: #00aa00">)</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>这个选择器将会匹配相关的链接&mdash;&mdash;如果页面的语言等于&ldquo;en&rdquo;或&ldquo;fr&rdquo;，或者以&ldquo;en&rdquo;或&ldquo;fr&rdquo;开头并在后面带个连字符&ldquo;-&rdquo;的话。</p><br><h5>浏览器兼容性</h5><br><p>不幸的是，只有IE浏览器中只有IE8支持该选择器，其它的主要浏览器都支持该伪类选择器。</p><br><h3>5. CSS 3 伪类</h3><br><h4>:target</h4><br><p>当你使用锚点(片段标识符 fragment identifier)的时候，比如，<a href="http://www.smashingmagazine.com/2009/08/02/bauhaus-ninety-years-of-inspiration/#comments，这&ldquo;#comments&rdquo;就是一个片段标识符，你就可以使用:target伪类来控制目标的样式。" target="_blank" rel="external">http://www.smashingmagazine.com/2009/08/02/bauhaus-ninety-years-of-inspiration/#comments，这&ldquo;#comments&rdquo;就是一个片段标识符，你就可以使用:target伪类来控制目标的样式。</a></p><br><p>举个例子，比如你有一个很长的使用了很多文字和h2标题的页面，然后在页面的头部有一个对这些标题的索引。如果在点击索引内的某个链接时，相应的标题以某种方式高亮，然后滚动到相应的位置，对读者就会很有用。很简单。</p><br><div><br><div><br><pre style="font-family: monospace"><br>h2<span style="color: #3333ff">:target </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">background</span><span style="color: #00aa00">:</span> <span style="color: #cc00cc">#F2EBD6</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><h5>浏览器兼容性</h5><br><p>这一次，IE浏览器完全不支持:target伪类，另一个小问题就是Opera 在使用&ldquo;前进&rdquo;和后退按钮时不支持该选择器。但是其它的各个主流浏览器都支持该选择器。</p><br><h4>UI元素状态伪类</h4><br><p>有些HTML元素有enable 或disabled 状态(比如，文本输入框)和 checked 或unchecked 状态(单选按钮和复选框)。这些状态就可以使用<strong>:enabled</strong>、<strong>:disabled</strong> 或<strong>:checked</strong> 伪类来分别定位。</p><br><p>那么你就会想，如果任意一个禁用的(disabled)文本框应该使用浅灰色的背景和虚线边框：</p><br><div><br><div><br><pre style="font-family: monospace"><br>input<span style="color: #3333ff">:disabled </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">border</span><span style="color: #00aa00">:</span><span style="color: #933">1px</span> <span style="color: #993333">dotted</span> <span style="color: #cc00cc">#999</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">background</span><span style="color: #00aa00">:</span><span style="color: #cc00cc">#F2F2F2</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>你也可能会想让所有选中的复选框有个左边距(这样就可以在众多的复选框中很容易认出来)：</p><br><div><br><div><br><pre style="font-family: monospace"><br>input<span style="color: #00aa00">[</span>type<span style="color: #00aa00">=</span>&rdquo;checkbox&rdquo;<span style="color: #00aa00">]</span><span style="color: #3333ff">:checked </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">margin-left</span><span style="color: #00aa00">:</span> <span style="color: #933">15px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><h5>浏览器兼容性</h5><br><p>所有的主流浏览器，除了我们常常不报希望的IE系列浏览器，都支持UI元素状态伪类。如果你考虑只是<strong>添加附加级别的细节</strong>和增强网站的可用性，这个仍然是可以采用的。</p><br><h3>6. CSS 3 结构伪类</h3><br><h4>:nth-child</h4><br><p>:nth-child()伪类允许你<strong>定位某个父级元素的一个或多个特定的子元素</strong>.</p><br><p>你可以通过定义它的值为一个<strong>整数</strong>来定位某个单个子元素：</p><br><div><br><div><br><pre style="font-family: monospace"><br>ul li<span style="color: #3333ff">:nth-</span>child<span style="color: #00aa00">(</span><span style="color: #cc66cc">3</span><span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span> <span style="color: #993333">red</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>这将会让ul元素的第三个li元素的文字变成红色。注意如果在ul里面有个其它类型的元素(不是li)，它也会算作其子元素。</p><br><p>你可以<strong>使用表达式</strong>来定位子元素。比如，下面的表达式将从第四个开始匹配每第三个元素。</p><br><div><br><div><br><pre style="font-family: monospace"><br>ul li<span style="color: #3333ff">:nth-</span>child<span style="color: #00aa00">(</span>3n<span style="color: #00aa00">+</span><span style="color: #cc66cc">4</span><span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span> <span style="color: #993333">yellow</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>在上面的这个例子中，第一个黄色的li元素将会是第四个。如果也想从第一个开始匹配，你可以使用一个简单的表达式：</p><br><div><br><div><br><pre style="font-family: monospace"><br>ul li<span style="color: #3333ff">:nth-</span>child<span style="color: #00aa00">(</span>3n<span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span> <span style="color: #993333">yellow</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>这样的话，第一个黄色的li元素将会是第三个子元素，然后是它后面的每隔第三个。现在想象一下如果你只想匹配列表中的<strong>前四个子</strong>元素：</p><br><div><br><div><br><pre style="font-family: monospace"><br>ul li<span style="color: #3333ff">:nth-</span>child<span style="color: #00aa00">(</span>-n<span style="color: #00aa00">+</span><span style="color: #cc66cc">4</span><span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span> <span style="color: #993333">green</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>:nth-child的值同样也可以被定义为<strong>&ldquo;even&rdquo; 或&ldquo;odd&rdquo;</strong>，和&ldquo;2n&rdquo; (第偶数个) 或&ldquo;2n+1&rdquo; (第奇数个)的效果是一样的。</p><br><h4>:nth-last-child</h4><br><p>:nth-last-child伪类基本上和:nth-child伪类的作用相同，但是它<strong>从最后一个元素开始</strong>算。</p><br><p>使用上面的一个例子来看看：</p><br><div><br><div><br><pre style="font-family: monospace"><br>ul li<span style="color: #3333ff">:nth-</span>child<span style="color: #00aa00">(</span>-n<span style="color: #00aa00">+</span><span style="color: #cc66cc">4</span><span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span> <span style="color: #993333">green</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>不是匹配最前面的四个li元素，该选择器匹配最后面的四个元素。</p><br><p>你同样可以使用&ldquo;even&rdquo; 或&ldquo;odd&rdquo;只，同样与nth-child不同的是，这是从最后面的元素开始算的：</p><br><div><br><div><br><pre style="font-family: monospace"><br>ul li<span style="color: #3333ff">:nth-last-</span>child<span style="color: #00aa00">(</span>odd<span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span> grey<span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><h4>:nth-of-type</h4><br><p>:nth-of-type伪类和:nth-child也很像，不同的是它只计算选择器中指定的那个元素。</p><br><p>这对定位元素中包含大量不同的元素的情况会很有用。比如，我们想控制一个文本块中的每隔一个段落，但是我们又想要无视其它元素比如图片和引用块：</p><br><div><br><div><br><pre style="font-family: monospace"><br>p<span style="color: #3333ff">:nth-of-</span>type<span style="color: #00aa00">(</span>even<span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span> <span style="font-weight: bold; color: #000000">blue</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>你也可以使用一些值，就像在:nth-child中使用的一样。</p><br><h4>:nth-last-of-type</h4><br><p>你能猜到它吧？！:nth-last-of-type 伪类可以<strong>像前面提到的:nth-last-child一样使用</strong>，但是这次，它将之匹配你在选择器中指定的元素类型：</p><br><div><br><div><br><pre style="font-family: monospace"><br>ul li<span style="color: #3333ff">:nth-last-of-</span>type<span style="color: #00aa00">(</span>-n<span style="color: #00aa00">+</span><span style="color: #cc66cc">4</span><span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">color</span><span style="color: #00aa00">:</span> <span style="color: #993333">green</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>我们可以更加的聪明一些，在一个大的块级选择器中<strong>结合多种这样的伪类</strong>。比如我们想让文章中的所有的图片左浮动，除了第一个和最后一个(我们可以假设他们是满宽的，无须浮动)：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #6666ff">.post</span> img<span style="color: #3333ff">:nth-of-</span>type<span style="color: #00aa00">(</span>n<span style="color: #00aa00">+</span><span style="color: #cc66cc">2</span><span style="color: #00aa00">)</span><span style="color: #3333ff">:nth-last-of-</span>type<span style="color: #00aa00">(</span>n<span style="color: #00aa00">+</span><span style="color: #cc66cc">2</span><span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">float</span><span style="color: #00aa00">:</span> <span style="font-weight: bold; color: #000000">left</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>所以在这个选择器的第一部分，我们从第二个图片开始定位每一个图片。在第二部分中，我们定位所有的图片，除了最后一个。因为这两个选择器并非互斥的，我们可以同时使用它们，这样就可以一下子排除第一个和最后一个元素！</p><br><h4>:last-child</h4><br><p>:last-child伪类的作用类似于:first-child 伪类，但是会定位<strong>父级元素的最后一个子元素</strong>。</p><br><p>让我们假设你不想让你的日志的div的最后一个段落也有一个底部边距：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #6666ff">.post</span> &amp;gt<span style="color: #00aa00">;</span> p<span style="color: #3333ff">:last-child </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">margin-bottom</span><span style="color: #00aa00">:</span> <span style="color: #cc66cc">0</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>该选择器将定位class为&rdquo;post&rdquo;的元素的最后一个直接子级段落。</p><br><h4>:first-of-type 和:last-of-type</h4><br><p>:first-of-type 伪类用于定位一个<strong>父级元素下的第一个同类子元素</strong>。</p><br><p>比如，你可以定位某个特定的div的第一个子级段落(p)，并让其第一行字母大写:</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #6666ff">.post</span> &amp;gt<span style="color: #00aa00">;</span> p<span style="color: #3333ff">:first-of-type</span><span style="color: #3333ff">:first-line </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-variant</span><span style="color: #00aa00">:</span> <span style="color: #993333">small-caps</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>在这个选择器中，你可以确定你是在只定位class为&rdquo;post&rdquo;的元素的直接子级p元素，而且还是匹配第一个子级p元素。</p><br><p>:last-of-type伪类与此类似，只是匹配最后一个子元素。</p><br><h4><img alt=":o" src="http://www.qianduan.net/wp-includes/images/smilies/icon_surprised.gif"> nly-child</h4><br><p><img alt=":o" src="http://www.qianduan.net/wp-includes/images/smilies/icon_surprised.gif"> nly-child伪类表示一个元素是它的父级元素的<strong>唯一一个子元素</strong>。</p><br><p>比如说，你有一些盒子(&ldquo;news&rdquo;)，里面有一些文字段落，当你有多于一个段落的时候，你想让文字比只有一个段落的时候小一些：</p><br><div><br><div><br><pre style="font-family: monospace"><br>div<span style="color: #6666ff">.news</span> &amp;gt<span style="color: #00aa00">;</span> p <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-size</span><span style="color: #00aa00">:</span> <span style="color: #933">1.2em</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>&nbsp;<br>div<span style="color: #6666ff">.news</span> &amp;gt<span style="color: #00aa00">;</span> p<span style="color: #3333ff">:only-child </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-size</span><span style="color: #00aa00">:</span> <span style="color: #933">1.5em</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>第一个选择器中，我们定义&rdquo;news&rdquo;div的所有子级p元素的字体大小。在第二个中，我们覆盖之前的字体大小，如果该p元素是&ldquo;news&rdquo; div的唯一子元素的时候，它的字体大小会比较大一些。</p><br><h4><img alt=":o" src="http://www.qianduan.net/wp-includes/images/smilies/icon_surprised.gif"> nly-of-type</h4><br><p><img alt=":o" src="http://www.qianduan.net/wp-includes/images/smilies/icon_surprised.gif"> nly-of-type伪类表示一个元素是<strong>它的父级元素的唯一一个相同类型的子元素</strong>。</p><br><p>这有用什么用？假设你有一些日志，每一篇都有个class为&rdquo;post&rdquo;的div，他们中的一些有多于一张图片，但是有些可能就只有一张图片。你想让后者中的图片水平居中，而在其它的有多于一张图片的日志中，就将它左浮动。这个需求用这个选择器就很容易实现：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #6666ff">.post</span> &amp;gt<span style="color: #00aa00">;</span> img <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">float</span><span style="color: #00aa00">:</span> <span style="font-weight: bold; color: #000000">left</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>&nbsp;<br><span style="color: #6666ff">.post</span> &amp;gt<span style="color: #00aa00">;</span> img<span style="color: #3333ff">:only-of-type </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">float</span><span style="color: #00aa00">:</span> <span style="color: #993333">none</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">margin</span><span style="color: #00aa00">:</span> <span style="color: #993333">auto</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><h4>:empty</h4><br><p>:empty伪类表示<strong>一个元素里面没有任何内容</strong>。</p><br><p>这个选择器可以用很多种用途。比如，你在你的&ldquo;sidebar&rdquo;中有若干个盒子，但是不想让空盒子显示出来：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #cc00cc">#sidebar</span> <span style="color: #6666ff">.box</span><span style="color: #3333ff">:empty </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">display</span><span style="color: #00aa00">:</span> <span style="color: #993333">none</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>注意，就算&rdquo;box&rdquo;div里面只有一个空格，它也不会被css当作空标签的，这样就不能匹配该选择器了。</p><br><h4>浏览器支持</h4><br><p>Internet Explorer (直到8.0版本)都不支持结构伪类。Firefox、Safari 和Opera 在其最新版本的浏览器中指出这些选择器。这意味着，使用这些选择器对<strong>网站的可用性和可访问性</strong>是很有用的，或者如果网站的用户中的大部分是使用IE而且你不想在某些细节上无视他们，最好还是保持使用通用的class和简单的选择器来迎合这些选择器。否则你会被搞疯的！</p><br><h3>7. 否定选择器</h3><br><p>否定选择器<strong>:not()</strong>，可以让你定位<strong>不匹配</strong>该选择器的元素</p><br><p>比如，如果你需要定义表单元素中的input元素，但是又不想包括submit类型的input的时候会灰常有用&mdash;&mdash;你想它们有不同的样式，以看起来像按钮：</p><br><div><br><div><br><pre style="font-family: monospace"><br>input<span style="color: #00aa00">:</span>not<span style="color: #00aa00">(</span><span style="color: #00aa00">[</span>type<span style="color: #00aa00">=</span><span style="color: #ff0000">&quot;submit&quot;</span><span style="color: #00aa00">]</span><span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">width</span><span style="color: #00aa00">:</span> <span style="color: #933">200px</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">padding</span><span style="color: #00aa00">:</span> <span style="color: #933">3px</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">border</span><span style="color: #00aa00">:</span> <span style="color: #933">1px</span> <span style="color: #993333">solid</span> <span style="color: #cc00cc">#000000</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>另一个例子，你想你的日志的div中的所有段落(p)有比较大的字体，除了表示时间和日期的段落：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #6666ff">.post</span> p<span style="color: #00aa00">:</span>not<span style="color: #00aa00">(</span>.date<span style="color: #00aa00">)</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-size</span><span style="color: #00aa00">:</span> <span style="color: #933">13px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>你可以想象这个选择器能带给你的潜力了吧，你能够从你的CSS文件中剥离(剔除)的无用的大量选择器也被它广泛支持吗？</p><br><h4>浏览器支持</h4><br><p>Internet Explorer在这里常常是让我们感到扫兴的东西：一点都不支持，甚至在IE8中。这大概意味着这些选择器将仍不得不等到一些开发者开始不再顾虑将它添加到他们的样式表中才会普及。</p><br><h3>8. 伪元素</h3><br><p>伪元素允许你操作<strong>HTML中不是真实存在的元素</strong>，比如一个文本块的第一行或者第一个字母。</p><br><p>伪元素在CSS 2.1中就已经存在，但是CSS 3说明书表示他们应该使用双冒号&ldquo;::&rdquo;，以与伪类区分开来。在CSS 2.1中，他们也是使用单个冒号&ldquo;:&rdquo;的。浏览器会将能够接受两种格式，除非这些伪元素只存在于CSS3中。</p><br><h4>::first-line</h4><br><p>::first-line伪元素将匹配block、inline-block、table-caption、table-cell等等级别元素的<strong>第一行</strong></p><br><p>这对在你的文字块上添加<strong>一些微妙的排版细节</strong>相当有用，比如，将一片文章的第一行文字改成小写字母：</p><br><div><br><div><br><pre style="font-family: monospace"><br>h1 <span style="color: #00aa00">+</span> p<span style="color: #00aa00">:</span><span style="color: #3333ff">:first-line </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-variant</span><span style="color: #00aa00">:</span> <span style="color: #993333">small-caps</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>如果你专心的阅读了我们前面的内容，你将会了解到上面的语法意味着，紧紧的跟在H1标签之后(+)的段落会将其第一行文字显示为小写字母。</p><br><p>你也可以针对相关的div的第一行，而不用针对实际的段落标签(p):</p><br><div><br><div><br><pre style="font-family: monospace"><br>div<span style="color: #6666ff">.post</span> p<span style="color: #00aa00">:</span><span style="color: #3333ff">:first-line </span><span style="color: #00aa00">{</span> <span style="font-weight: bold; color: #000000">font-variant</span><span style="color: #00aa00">:</span> <span style="color: #993333">small-caps</span><span style="color: #00aa00">;</span> <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>或者更进一步，定位某个特低的div的第一个段落的第一行：</p><br><div><br><div><br><pre style="font-family: monospace"><br>div<span style="color: #6666ff">.post</span> &amp;gt<span style="color: #00aa00">;</span> p<span style="color: #3333ff">:first-child</span><span style="color: #00aa00">:</span><span style="color: #3333ff">:first-line </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-variant</span><span style="color: #00aa00">:</span> <span style="color: #993333">small-caps</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>这里，&ldquo;&gt;&rdquo;符号表示你指定的是post div的直接子级元素，这样如果段落被包括在第二级div中，它就不会匹配这个选择器。</p><br><h4>::first-letter</h4><br><p>::first-letter伪元素将会匹配一个文本块的<strong>第一个字母</strong>，除非在同一行里面包含一些其它元素，比如图片。</p><br><p>和::first-line伪类一样，::first-letter通常用于给文本元素<strong>添加排版细节</strong>，比如下沉字母或首字母。</p><br><p>这里是如何使用::first-letter伪元素创建<strong>首字下沉</strong>的例子:</p><br><div><br><div><br><pre style="font-family: monospace"><br>p <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-size</span><span style="color: #00aa00">:</span> <span style="color: #933">12px</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>&nbsp;<br>p<span style="color: #00aa00">:</span><span style="color: #3333ff">:first-letter </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">font-size</span><span style="color: #00aa00">:</span> <span style="color: #933">24px</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">float</span><span style="color: #00aa00">:</span> <span style="font-weight: bold; color: #000000">left</span><span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>注意如果你在某些元素中同时使用::first-line 和::first-letter ，::first-letter 属性将覆盖从::first-line中继承下来的某些属性。</p><br><p>如果你不知道W3C规则的话，这个元素有时会产生意想不到的结果：它事实上是使用最长的规则的选择器！所以如果你计划使用它的话<strong>最好仔细的阅读一下</strong> (其它选择器也一样)。</p><br><h4>::before 和 ::after</h4><br><p>::before和::after 伪元素用于在一个元素的前面或后面<strong>插入内容</strong>，纯CSS方法。</p><br><p>这些元素将继承它们将附加的元素的大部分属性。</p><br><p>假设你想在你的页面中的图标的描述前面添加文字&ldquo;Graphic number x:&rdquo;。你将无需写文字&ldquo;Graphic number&rdquo;，或者自己手动添加数字：</p><br><div><br><div><br><pre style="font-family: monospace"><span style="color: #6666ff">.post</span> <span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">counter-reset</span><span style="color: #00aa00">:</span> image<span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span><br>&nbsp;<br>p<span style="color: #6666ff">.description</span><span style="color: #00aa00">:</span><span style="color: #3333ff">:before </span><span style="color: #00aa00">{</span><br>    <span style="font-weight: bold; color: #000000">content</span><span style="color: #00aa00">:</span> <span style="color: #ff0000">&quot;Figure number &quot;</span> counter<span style="color: #00aa00">(</span>image<span style="color: #00aa00">)</span> <span style="color: #ff0000">&quot;: &quot;</span><span style="color: #00aa00">;</span><br>    <span style="font-weight: bold; color: #000000">counter-increment</span><span style="color: #00aa00">:</span> image<span style="color: #00aa00">;</span><br>    <span style="color: #00aa00">}</span></pre><br></div><br></div><br><p>那么这会产生什么？</p><br><p>首先，我们告诉HTML来<strong>创建&ldquo;image&rdquo;计数器</strong>。比如我们可以添加该属性到页面的body。同样我们也可以给该计数器起任何一个名字，只要你想，只要我们常常使用同样的名字引用它：自己试试吧！</p><br><p>那么我们想在class为&rdquo;description&rdquo;的每一个段落之前添加这一块内容: &ldquo;Figure number &rdquo; &mdash; 注意只有我们在引号里面写的内容才会被创建到页面中，所以我们也要添加一个空格！</p><br><p>然后，我们就有了counter(image):这将用到我们之前在.post选择器中定义的属性。它默认会从数字1开始。</p><br><p>下一个属性在那里表示计数器知道对于每一个p.description，它需要将image计数器增加1 (counter-increment: image)。</p><br><p>它并不像看起来的那么复杂，而且还会灰常的有用。</p><br><p>::before和::after伪元素常常只<strong>使用content属性</strong>，来添加一些短语或排版元素，但是这里我们展示了我们如果以一种更加强大的结合counter-reset和counter-increment属性的方式来使用它们。</p><br><p><strong>有趣的是:</strong> ::first-line 和::first-letter 伪元素可以匹配使用::before伪元素生成的内容，如果存在的话。</p><br><h4>浏览器支持</h4><br><p>如果使用单个冒号的话(比如, :first-letter, 而不是::first-letter)，这些伪元素被IE8支持(但是不被IE7或6支持)。但是左右其他的主流浏览器都支持这些选择器。</p><br><h3>结语</h3><br><p>乏味的讲述终于结束了，现在该你来领悟本文的要义并<strong>自己尝试了</strong>: 开始通过创建实验性的页面并测试所有的这些选择器，在有疑问的时候返回这里并确保总是遵循W3C的规则，但是请不要只是坐在那里想这些选择器尚未被完全支持你就无视它们。</p><br><p>如果你<strong>敢于冒险</strong>，或者你不害怕放弃之前的遍地无用和非语义化的class和id，为什么不尝试一两个这些强大的CSS选择器到你的下一个项目中呢？我们保证你不会回头的！</p><br><h3>参考</h3><br><ul><br>    <li><a href="http://www.w3.org/TR/CSS2/selector.html" target="_blank" closure_hashcode_z9wadg="1818">CSS 2 Selectors &mdash; W3C</a></li><br>    <li><a href="http://www.w3.org/TR/css3-selectors/" target="_blank" closure_hashcode_z9wadg="1819">CSS 3 Selectors Level 3 &mdash; W3C</a></li><br>    <li><a href="http://en.wikipedia.org/wiki/Comparison_of_layout_engines_%28Cascading_Style_Sheets%29" target="_blank" closure_hashcode_z9wadg="1820">Comparison of layout engines (Cascading Style Sheets) &mdash; Wikipedia</a></li><br>    <li><a href="http://www.w3.org/TR/CSS2/generate.html" target="_blank" closure_hashcode_z9wadg="1821">Generated content, automatic numbering, and lists &mdash; W3C</a></li><br></ul><br><h3>扩展资源</h3><br><ul><br>    <li><a href="http://www.alistapart.com/articles/keepelementskidsinlinewithoffspring/" target="_blank" closure_hashcode_z9wadg="1822">Keeping Your Elements&rsquo; Kids in Line with Offspring &mdash; A List Apart</a></li><br>    <li><a href="http://css.maxdesign.com.au/selectutorial/index.htm" target="_blank" closure_hashcode_z9wadg="1823">Selectutorial &ndash; CSS selectors </a></li><br>    <li><a href="http://inspectelement.com/tutorials/a-look-at-some-of-the-new-selectors-introduced-in-css3/" target="_blank" closure_hashcode_z9wadg="1824">A Look at Some of the New Selectors Introduced in CSS3</a></li><br>    <li>CSS 2.1 selectors, <a href="http://www.456bereastreet.com/archive/200509/css_21_selectors_part_1/" target="_blank" closure_hashcode_z9wadg="1825">Part 1</a> and <a href="http://www.456bereastreet.com/archive/200510/css_21_selectors_part_2/" target="_blank" closure_hashcode_z9wadg="1826">Part 2</a></li><br>    <li><a href="http://www.456bereastreet.com/archive/200601/css_3_selectors_explained/" target="_blank" closure_hashcode_z9wadg="1827">CSS 3 selectors explained</a></li><br>    <li><a href="http://kimblim.dk/css-tests/selectors/" target="_blank" closure_hashcode_z9wadg="1828">CSS selectors and pseudo selectors browser compatibility</a></li><br>    <li><a href="http://www.impressivewebs.com/10-useful-css-properties-not-supported-by-internet-explorer/" target="_blank" closure_hashcode_z9wadg="1829">10 Useful CSS Properties Not Supported By Internet Explorer</a></li><br>    <li><a href="http://webdesignernotebook.com/css/styling-a-poem-with-advanced-css-selectors/" target="_blank" closure_hashcode_z9wadg="1830">Styling a Poem with Advanced CSS Selectors</a></li><br></ul><br><h3>关于作者</h3><br><p><a href="http://yaili.com/" target="_blank" closure_hashcode_z9wadg="1831">Inayaili de Le&oacute;n</a> 是一个葡萄牙网页设计师。她对网页设计和前端编码有特别的爱好，而且喜欢漂亮和间接的网站。她居住在伦敦。你可以在<a href="http://webdesignernotebook.com/" target="_blank" closure_hashcode_z9wadg="1832">Web Designer Notebook</a>看到她的更多文章并<a href="http://twitter.com/yaili" target="_blank" closure_hashcode_z9wadg="1833">follow her on Twitter</a>。</p>

      
    </div>
    <footer>
      
        
  
  <div class="categories">
    <a href="/categories/dev/">dev</a>
  </div>

        
        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>


<div id="disqus_thread"></div>
<script>
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//yeahxj.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

  
</section>


</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜尋">
    <input type="hidden" name="q" value="site:yeahxj.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">分類</h3>
  <ul class="entry">
  
    <li><a href="/categories/collection/">collection</a><small>3</small></li>
  
    <li><a href="/categories/dev/">dev</a><small>14</small></li>
  
    <li><a href="/categories/media/">media</a><small>9</small></li>
  
    <li><a href="/categories/nono/">nono</a><small>32</small></li>
  
    <li><a href="/categories/think/">think</a><small>17</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">標籤</h3>
  <ul class="entry">
  
    <li><a href="/tags/D2/">D2</a><small>1</small></li>
  
    <li><a href="/tags/PJBlog-WP-转换/">PJBlog WP 转换</a><small>1</small></li>
  
    <li><a href="/tags/f2e/">f2e</a><small>1</small></li>
  
    <li><a href="/tags/前端/">前端</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 Xj Ye
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>